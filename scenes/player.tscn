[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 4.72104

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00970283, 0.038913, 0.827436)
bones/1/rotation = Quaternion(0.789994, 0.0422649, -0.00214121, 0.611653)
bones/2/rotation = Quaternion(-0.104447, -0.0275124, 0.0341763, 0.993562)
bones/3/rotation = Quaternion(-0.0528155, 4.72565e-05, 0.00194014, 0.998602)
bones/4/rotation = Quaternion(0.012337, 2.65995e-05, -0.000152552, 0.999924)
bones/6/rotation = Quaternion(-0.185372, 0.0296278, -0.0133791, 0.982131)
bones/63/rotation = Quaternion(-0.578669, 0.222037, -0.102273, 0.778063)
bones/64/rotation = Quaternion(-0.0584454, 0.0836978, -0.250994, 0.962591)
bones/65/rotation = Quaternion(0.0709466, -0.0522971, 0.118274, 0.989062)
bones/66/position = Vector3(-0.0279027, 0.2345, -0.000555497)
bones/66/rotation = Quaternion(-0.0390268, -0.180881, 0.145926, 0.971836)
bones/70/position = Vector3(-0.0154006, 0.242215, 0.00844717)
bones/70/rotation = Quaternion(-0.0379913, -0.117988, 0.128634, 0.983915)
bones/74/position = Vector3(-0.000368471, 0.247232, 0.0121525)
bones/74/rotation = Quaternion(0.00140403, -0.0953845, 0.110226, 0.989318)
bones/78/position = Vector3(0.0130322, 0.248238, 0.0124129)
bones/78/rotation = Quaternion(0.0145932, 0.0151789, 0.0429518, 0.998855)
bones/82/position = Vector3(0.0215378, 0.226095, -0.00128138)
bones/82/rotation = Quaternion(0.179675, 0.746025, -0.257991, 0.58703)
bones/86/rotation = Quaternion(-0.592384, -0.22359, 0.114489, 0.765494)
bones/87/rotation = Quaternion(-0.0564219, -0.0889323, 0.228729, 0.967776)
bones/88/rotation = Quaternion(0.0836857, 0.0587856, -0.124778, 0.9869)
bones/89/position = Vector3(0.0284916, 0.233985, -0.000508072)
bones/89/rotation = Quaternion(-0.0257856, 0.188384, -0.150012, 0.970229)
bones/93/position = Vector3(0.0161282, 0.24173, 0.00917106)
bones/93/rotation = Quaternion(-0.0249103, 0.125328, -0.133639, 0.982758)
bones/97/position = Vector3(0.00122154, 0.24689, 0.0132613)
bones/97/rotation = Quaternion(0.0144978, 0.102259, -0.115796, 0.987889)
bones/101/position = Vector3(-0.0121303, 0.248119, 0.0138068)
bones/101/rotation = Quaternion(0.0273504, -0.0091703, -0.050126, 0.998326)
bones/105/position = Vector3(-0.0210202, 0.226755, -0.00063664)
bones/105/rotation = Quaternion(0.183655, -0.747346, 0.243102, 0.590463)
bones/108/rotation = Quaternion(-0.0292777, 0.117586, 0.990436, -0.0659755)
bones/109/rotation = Quaternion(-0.0783101, 0.000963003, -0.0185015, 0.996757)
bones/110/rotation = Quaternion(0.598588, -0.108056, 0.0493039, 0.792203)
bones/111/rotation = Quaternion(0.197563, 0.00103202, -0.0696235, 0.977814)
bones/112/rotation = Quaternion(-0.0158356, 0.206218, 0.97833, 0.00963563)
bones/113/rotation = Quaternion(-0.0911082, -0.00120064, 0.0184876, 0.995669)
bones/114/rotation = Quaternion(0.483214, 0.163314, -0.0796337, 0.856441)
bones/115/rotation = Quaternion(0.248777, 0.00263555, 0.0695813, 0.966055)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.233471, 0.216491, 0.947957, 0.00620773, -0.974548, 0.224093, 0.972344, 0.0582037, 0.226185, 0.274376, 0.93527, -0.0369011)

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.00170743, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
