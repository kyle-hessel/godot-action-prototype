[gd_scene load_steps=11 format=3 uid="uid://cc7svareltvw7"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]
[ext_resource type="Texture2D" uid="uid://c0k8c5wncmt3g" path="res://UI/Target_Reticle.png" id="4_26cl0"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 6.16279

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(0.0098082, 0.0388821, 0.827435)
bones/1/rotation = Quaternion(0.789823, -0.0453391, -0.000239296, 0.611657)
bones/2/rotation = Quaternion(-0.104335, 0.0313338, -0.0347473, 0.993441)
bones/3/rotation = Quaternion(-0.0528155, -4.37086e-05, -0.00179446, 0.998603)
bones/4/rotation = Quaternion(0.0123372, 1.37675e-06, -0.000411275, 0.999924)
bones/6/rotation = Quaternion(-0.185623, -0.00919516, 0.00961954, 0.982531)
bones/63/rotation = Quaternion(-0.59227, 0.22566, -0.113272, 0.765155)
bones/64/rotation = Quaternion(-0.0562206, 0.0901962, -0.232052, 0.966879)
bones/65/rotation = Quaternion(0.0968398, -0.0561181, 0.12812, 0.985423)
bones/66/position = Vector3(-0.0287387, 0.233766, 0.000420799)
bones/66/rotation = Quaternion(-0.0121323, -0.186574, 0.152073, 0.970524)
bones/70/position = Vector3(-0.0163634, 0.24138, 0.0101578)
bones/70/rotation = Quaternion(-0.0114651, -0.123268, 0.136549, 0.982867)
bones/74/position = Vector3(-0.00146625, 0.246574, 0.014213)
bones/74/rotation = Quaternion(0.0278243, -0.0997818, 0.118866, 0.987492)
bones/78/position = Vector3(0.0119111, 0.247904, 0.0147041)
bones/78/rotation = Quaternion(0.0401231, 0.0125772, 0.054606, 0.997622)
bones/82/position = Vector3(0.0210045, 0.226775, -0.000623123)
bones/82/rotation = Quaternion(0.186767, 0.75346, -0.231754, 0.586265)
bones/86/rotation = Quaternion(-0.587619, -0.210123, 0.119934, 0.772119)
bones/87/rotation = Quaternion(-0.0578616, -0.0818145, 0.222381, 0.969797)
bones/88/rotation = Quaternion(0.0755702, 0.0548046, -0.0980514, 0.990793)
bones/89/position = Vector3(0.0268712, 0.23552, -0.000531852)
bones/89/rotation = Quaternion(-0.0370844, 0.181298, -0.125273, 0.974711)
bones/93/position = Vector3(0.014021, 0.242698, 0.0088356)
bones/93/rotation = Quaternion(-0.0346803, 0.11836, -0.108052, 0.986465)
bones/97/position = Vector3(-0.00118741, 0.247092, 0.0126554)
bones/97/rotation = Quaternion(0.00520263, 0.0964682, -0.0896993, 0.991272)
bones/101/position = Vector3(-0.014593, 0.247595, 0.0130022)
bones/101/rotation = Quaternion(0.0206648, -0.0141892, -0.0229962, 0.999421)
bones/105/position = Vector3(-0.0220015, 0.22574, -0.00118318)
bones/105/rotation = Quaternion(0.198217, -0.743493, 0.265352, 0.580962)
bones/108/rotation = Quaternion(0.0198087, 0.180344, 0.983366, -0.008605)
bones/109/rotation = Quaternion(-0.00220045, -0.000448307, -0.0185212, 0.999826)
bones/110/rotation = Quaternion(0.455726, -0.155272, 0.0942558, 0.87139)
bones/111/rotation = Quaternion(0.218796, -0.000483447, -0.0696295, 0.973283)
bones/112/rotation = Quaternion(0.0331388, 0.118196, 0.990202, 0.0665747)
bones/113/rotation = Quaternion(-0.078728, -0.0009708, 0.0185011, 0.996724)
bones/114/rotation = Quaternion(0.598554, 0.10833, -0.0493229, 0.79219)
bones/115/rotation = Quaternion(0.197915, -0.00100695, 0.0696239, 0.977743)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.241415, 0.229244, 0.942956, -0.0242736, -0.97282, 0.23029, 0.970118, 0.0327066, 0.240418, 0.256845, 0.926438, -0.0380543)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TargetingIcon" type="TextureRect" parent="UI"]
visible = false
self_modulate = Color(1, 1, 1, 0.686275)
layout_mode = 1
offset_right = 47.0
offset_bottom = 47.0
texture = ExtResource("4_26cl0")
expand_mode = 1

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]
[connection signal="body_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_body_shape_entered"]
[connection signal="body_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_body_shape_exited"]

[editable path="starblade_wielder"]
