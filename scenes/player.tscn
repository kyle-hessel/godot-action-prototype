[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.277379
height = 2.18201

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.35
shader_parameter/contrast_multiplier = 0.5
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 2.933

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(0.00996779, 0.0388093, 0.827427)
bones/1/rotation = Quaternion(0.789625, -0.048537, -0.00313409, 0.611659)
bones/2/rotation = Quaternion(-0.104209, 0.035484, -0.0348805, 0.99331)
bones/3/rotation = Quaternion(-0.0528155, -4.74699e-05, -0.00194889, 0.998602)
bones/4/rotation = Quaternion(0.0123373, 5.17052e-05, -0.00122008, 0.999923)
bones/6/rotation = Quaternion(-0.185718, 0.000954348, 0.00774026, 0.982572)
bones/63/rotation = Quaternion(-0.590444, 0.227955, -0.110863, 0.766239)
bones/64/rotation = Quaternion(-0.0561961, 0.091141, -0.23941, 0.964996)
bones/65/rotation = Quaternion(0.106003, -0.0530629, 0.133328, 0.983957)
bones/66/position = Vector3(-0.0289366, 0.233522, 0.00163404)
bones/66/rotation = Quaternion(-0.00220252, -0.184436, 0.156473, 0.970307)
bones/70/position = Vector3(-0.0163773, 0.24099, 0.0114796)
bones/70/rotation = Quaternion(-0.00187441, -0.120953, 0.14156, 0.982511)
bones/74/position = Vector3(-0.00143724, 0.246175, 0.0153804)
bones/74/rotation = Quaternion(0.0372506, -0.0970599, 0.123965, 0.986825)
bones/78/position = Vector3(0.0118509, 0.247638, 0.0154909)
bones/78/rotation = Quaternion(0.0487278, 0.0159531, 0.0606841, 0.996839)
bones/82/position = Vector3(0.02076, 0.227039, -0.000193614)
bones/82/rotation = Quaternion(0.186284, 0.75864, -0.222412, 0.583349)
bones/86/rotation = Quaternion(-0.596942, -0.198091, 0.137083, 0.765264)
bones/87/rotation = Quaternion(-0.0561969, -0.0826343, 0.188345, 0.977005)
bones/88/rotation = Quaternion(0.0784451, 0.0563975, -0.0777762, 0.992279)
bones/89/position = Vector3(0.0258487, 0.236435, -0.000380386)
bones/89/rotation = Quaternion(-0.0367923, 0.180703, -0.104827, 0.977243)
bones/93/position = Vector3(0.0127372, 0.243103, 0.00913203)
bones/93/rotation = Quaternion(-0.0331002, 0.117739, -0.0876788, 0.988612)
bones/97/position = Vector3(-0.00252915, 0.246941, 0.0130105)
bones/97/rotation = Quaternion(0.00722878, 0.0965811, -0.0693066, 0.992883)
bones/101/position = Vector3(-0.0157621, 0.247071, 0.0133963)
bones/101/rotation = Quaternion(0.0249846, -0.0139858, -0.00279906, 0.999586)
bones/105/position = Vector3(-0.0224375, 0.225264, -0.000957848)
bones/105/rotation = Quaternion(0.21539, -0.740587, 0.274119, 0.574454)
bones/108/rotation = Quaternion(0.0245453, 0.17745, 0.983793, -0.00782419)
bones/109/rotation = Quaternion(-0.00220045, -0.000448305, -0.0185212, 0.999826)
bones/110/rotation = Quaternion(0.477592, -0.153224, 0.0973815, 0.859619)
bones/111/rotation = Quaternion(0.198601, 0.000958064, -0.0696246, 0.977604)
bones/112/rotation = Quaternion(0.0376063, 0.120292, 0.989767, 0.0669073)
bones/113/rotation = Quaternion(-0.0810438, -0.00101379, 0.0184988, 0.996538)
bones/114/rotation = Quaternion(0.598434, 0.107898, -0.0487151, 0.792377)
bones/115/rotation = Quaternion(0.198001, -0.00100082, 0.069624, 0.977726)

[node name="RightHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.233625, -0.206822, -0.950076, -0.0533257, -0.97292, 0.224907, -0.970863, 0.103207, 0.21627, -0.26501, 0.927247, -0.0197124)

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0353781, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.00170743, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/RightHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
