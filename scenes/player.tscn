[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 6.16279

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(0.00724045, 0.039318, 0.827381)
bones/1/rotation = Quaternion(0.790707, -0.0233166, 0.0128147, 0.611617)
bones/2/rotation = Quaternion(-0.10492, 0.00671784, -0.0276212, 0.994074)
bones/3/rotation = Quaternion(-0.0528155, -2.53076e-05, -0.001039, 0.998604)
bones/4/rotation = Quaternion(0.012337, -9.56067e-05, 0.00173649, 0.999922)
bones/6/rotation = Quaternion(-0.184142, 0.0907914, -0.0242885, 0.978396)
bones/63/rotation = Quaternion(-0.597023, 0.218869, -0.122651, 0.761982)
bones/64/rotation = Quaternion(-0.0569672, 0.0872358, -0.232996, 0.96688)
bones/65/rotation = Quaternion(0.0914737, -0.0661868, 0.155913, 0.981297)
bones/66/position = Vector3(-0.030137, 0.232266, -0.000654281)
bones/66/rotation = Quaternion(-0.0142201, -0.199161, 0.178657, 0.963439)
bones/70/position = Vector3(-0.0184428, 0.240587, 0.00938623)
bones/70/rotation = Quaternion(-0.0151068, -0.136112, 0.163118, 0.977056)
bones/74/position = Vector3(-0.00399625, 0.246558, 0.0138285)
bones/74/rotation = Quaternion(0.0237741, -0.111744, 0.146011, 0.982664)
bones/78/position = Vector3(0.00927967, 0.248579, 0.0146155)
bones/78/rotation = Quaternion(0.0339043, 0.000426803, 0.0816402, 0.996085)
bones/82/position = Vector3(0.0200206, 0.227731, -2.87169e-05)
bones/82/rotation = Quaternion(0.166725, 0.748965, -0.217378, 0.603325)
bones/86/rotation = Quaternion(-0.598738, -0.191179, 0.146019, 0.763964)
bones/87/rotation = Quaternion(-0.0448859, -0.141283, 0.182813, 0.971907)
bones/88/rotation = Quaternion(0.175819, -0.0200601, -0.0791041, 0.981034)
bones/89/position = Vector3(0.0265749, 0.234552, 0.00866227)
bones/89/rotation = Quaternion(0.0640285, 0.10859, -0.103849, 0.986572)
bones/93/position = Vector3(0.0119767, 0.240337, 0.017394)
bones/93/rotation = Quaternion(0.0664559, 0.0435525, -0.0924434, 0.992543)
bones/97/position = Vector3(-0.00364321, 0.244251, 0.0194471)
bones/97/rotation = Quaternion(0.105058, 0.0199624, -0.0729217, 0.991588)
bones/101/position = Vector3(-0.0169398, 0.24492, 0.017753)
bones/101/rotation = Quaternion(0.116281, -0.0966189, -0.0156171, 0.988382)
bones/105/position = Vector3(-0.0218948, 0.225857, -0.00106927)
bones/105/rotation = Quaternion(0.233518, -0.810381, 0.214227, 0.492807)
bones/108/rotation = Quaternion(-0.00458752, 0.19976, 0.979746, -0.0131759)
bones/109/rotation = Quaternion(-0.164345, 0.0025618, -0.0183486, 0.986229)
bones/110/rotation = Quaternion(0.534792, -0.168696, 0.0628006, 0.825588)
bones/111/rotation = Quaternion(0.269107, -0.0041033, -0.0695102, 0.96059)
bones/112/rotation = Quaternion(0.00951052, 0.191472, 0.979945, 0.0543636)
bones/113/rotation = Quaternion(-0.114442, -0.00163403, 0.0184544, 0.993257)
bones/114/rotation = Quaternion(0.5608, 0.162685, -0.0903458, 0.806768)
bones/115/rotation = Quaternion(0.197494, -0.00103691, 0.0696235, 0.977828)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.213741, 0.227932, 0.949927, -0.0520456, -0.973675, 0.221919, 0.975503, -0.00200618, 0.219978, 0.253832, 0.927476, -0.0263073)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]
[connection signal="body_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_body_shape_entered"]
[connection signal="body_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_body_shape_exited"]

[editable path="starblade_wielder"]
