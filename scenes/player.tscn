[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.277379
height = 2.18201

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.35
shader_parameter/contrast_multiplier = 0.5
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 2.933

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(0.00864403, 0.0391946, 0.827435)
bones/1/rotation = Quaternion(0.79064, -0.0273489, 0.0131523, 0.611529)
bones/2/rotation = Quaternion(-0.104952, 0.009019, -0.0309941, 0.993953)
bones/3/rotation = Quaternion(-0.0528155, -3.04689e-05, -0.0012509, 0.998604)
bones/4/rotation = Quaternion(0.012337, -7.63476e-05, 0.00128872, 0.999923)
bones/6/rotation = Quaternion(-0.184807, 0.0328206, -0.00833924, 0.982191)
bones/63/rotation = Quaternion(-0.598721, 0.225524, -0.119612, 0.759188)
bones/64/rotation = Quaternion(-0.0562234, 0.0902683, -0.23274, 0.966707)
bones/65/rotation = Quaternion(0.0776882, -0.0743055, 0.167102, 0.980061)
bones/66/position = Vector3(-0.0306509, 0.231615, -0.00200902)
bones/66/rotation = Quaternion(-0.0267449, -0.207766, 0.190199, 0.959136)
bones/70/position = Vector3(-0.0193598, 0.240426, 0.00806905)
bones/70/rotation = Quaternion(-0.0282194, -0.145092, 0.174004, 0.973589)
bones/74/position = Vector3(-0.00509993, 0.246812, 0.0126632)
bones/74/rotation = Quaternion(0.0105286, -0.120641, 0.157042, 0.980139)
bones/78/position = Vector3(0.00807994, 0.249124, 0.013698)
bones/78/rotation = Quaternion(0.0201387, -0.00937583, 0.0914796, 0.995559)
bones/82/position = Vector3(0.0193398, 0.228326, -5.97001e-05)
bones/82/rotation = Quaternion(0.154228, 0.740837, -0.219377, 0.615831)
bones/86/rotation = Quaternion(-0.594849, -0.207049, 0.130419, 0.765687)
bones/87/rotation = Quaternion(-0.0433628, -0.146286, 0.209225, 0.965891)
bones/88/rotation = Quaternion(0.157142, -0.0188259, -0.118665, 0.98024)
bones/89/position = Vector3(0.0281353, 0.23316, 0.00797087)
bones/89/rotation = Quaternion(0.0501512, 0.113678, -0.1448, 0.981629)
bones/93/position = Vector3(0.014322, 0.239907, 0.0163473)
bones/93/rotation = Quaternion(0.0500369, 0.0488676, -0.132538, 0.988707)
bones/97/position = Vector3(-0.00106471, 0.244819, 0.0184555)
bones/97/rotation = Quaternion(0.0878835, 0.0241333, -0.112912, 0.989416)
bones/101/position = Vector3(-0.0142809, 0.246279, 0.0168531)
bones/101/rotation = Quaternion(0.0951516, -0.0918322, -0.0536774, 0.989763)
bones/105/position = Vector3(-0.0206629, 0.227003, -0.00150707)
bones/105/rotation = Quaternion(0.195162, -0.810284, 0.206529, 0.51254)
bones/108/rotation = Quaternion(-0.00192115, 0.200531, 0.979635, -0.00992791)
bones/109/rotation = Quaternion(-0.164892, 0.00257197, -0.0183472, 0.986138)
bones/110/rotation = Quaternion(0.533242, -0.169007, 0.0624228, 0.826555)
bones/111/rotation = Quaternion(0.272603, -0.00435633, -0.0694948, 0.959604)
bones/112/rotation = Quaternion(0.00832528, 0.176973, 0.982748, 0.0530758)
bones/113/rotation = Quaternion(-0.124654, -0.00182381, 0.0184366, 0.992027)
bones/114/rotation = Quaternion(0.581742, 0.165755, -0.0916366, 0.791014)
bones/115/rotation = Quaternion(0.197612, -0.00102851, 0.0696236, 0.977804)

[node name="RightHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.466581, -0.378456, -0.79942, 0.0453718, -0.912884, 0.40569, -0.883314, 0.153016, 0.443105, -0.260701, 0.927139, -0.0235504)

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0353781, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.00170743, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/RightHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
