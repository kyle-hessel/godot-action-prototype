[gd_scene load_steps=7 format=3 uid="uid://fucdrtw3uvta"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="PackedScene" uid="uid://cqex3gcga2ovp" path="res://3D_models/characters/hooded_character.tscn" id="2_jk2g5"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.277379
height = 2.18201

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_1iq4j"]

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 2.933

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0353781, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="hooded_character" parent="." instance=ExtResource("2_jk2g5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.05269, 0)

[node name="Skeleton3D" parent="hooded_character/HoodedCharacterGameRig" index="0"]
bones/0/position = Vector3(0.0449101, 1.0942, -0.0383282)
bones/0/rotation = Quaternion(0.997288, -0.0222866, 0.0508446, -0.0483214)
bones/2/position = Vector3(0.207502, -0.927654, 0.175443)
bones/2/rotation = Quaternion(0.166742, 0.656885, 0.714717, -0.172852)
bones/3/rotation = Quaternion(-0.0242251, 0.999526, -0.0018196, 0.0189284)
bones/10/rotation = Quaternion(0.721287, 0.177794, 0.665144, 0.0756129)
bones/11/rotation = Quaternion(-2.08192e-07, -0.0556028, -4.53876e-07, 0.998453)
bones/12/rotation = Quaternion(1.75604e-07, 0.0277813, 4.0427e-07, 0.999614)
bones/13/position = Vector3(-0.00869981, -0.94163, 0.08133)
bones/13/rotation = Quaternion(-0.179035, 0.634333, 0.746324, 0.0925709)
bones/14/rotation = Quaternion(-0.00730196, 0.999659, 0.0245288, 0.00509938)
bones/21/rotation = Quaternion(0.731999, -0.019918, -0.676711, 0.0764435)
bones/22/rotation = Quaternion(-1.87183e-07, 0.168377, -3.62818e-08, 0.985723)
bones/23/rotation = Quaternion(1.0141e-07, -0.0842343, 9.35153e-08, 0.996446)
bones/24/position = Vector3(0.0449101, 1.0942, -0.0383282)
bones/24/rotation = Quaternion(0.107669, -0.0472069, -0.00617189, 0.993046)
bones/25/position = Vector3(0.0450844, 1.15737, -0.0244682)
bones/25/rotation = Quaternion(-0.00559941, -0.0393013, 0.0156254, 0.99909)
bones/26/position = Vector3(0.0383219, 1.37869, -0.0272213)
bones/26/rotation = Quaternion(0.0147608, -0.0333637, 0.0436798, 0.998379)
bones/31/rotation = Quaternion(0.536729, 0.391809, 0.654422, -0.360749)
bones/32/rotation = Quaternion(-0.408863, 0.422689, -0.254152, 0.767836)
bones/33/rotation = Quaternion(2.2274e-07, 0.176419, -1.99178e-07, 0.984315)
bones/34/rotation = Quaternion(-3.80702e-08, 0.176461, -7.6984e-07, 0.984308)
bones/35/rotation = Quaternion(0.0730774, -0.00135577, -0.0300701, 0.996872)
bones/36/rotation = Quaternion(-4.60858e-08, -0.680648, 4.63837e-08, 0.73261)
bones/37/rotation = Quaternion(2.69679e-08, -0.0627279, -1.74576e-08, 0.998031)
bones/38/rotation = Quaternion(0.136122, -0.0256059, -0.104203, 0.984864)
bones/40/rotation = Quaternion(-0.339677, 0.113519, -0.0688137, 0.931127)
bones/41/rotation = Quaternion(-0.285126, 0.020151, -0.0626981, 0.956225)
bones/44/rotation = Quaternion(-0.250688, 0.0257946, 0.0238626, 0.96743)
bones/45/rotation = Quaternion(-0.219964, -0.00185294, -0.049303, 0.97426)
bones/48/rotation = Quaternion(-0.152679, -0.0250573, 0.139019, 0.978128)
bones/49/rotation = Quaternion(-0.202284, -0.00214995, -0.0139647, 0.979225)
bones/52/rotation = Quaternion(-0.180948, -0.119885, 0.25143, 0.943222)
bones/53/rotation = Quaternion(-0.172183, -0.011545, 0.0185359, 0.984823)
bones/58/rotation = Quaternion(-0.545094, 0.394773, 0.62789, 0.390872)
bones/59/rotation = Quaternion(-0.424909, -0.438791, 0.198282, 0.76655)
bones/60/rotation = Quaternion(1.26846e-07, -0.211358, -1.57102e-09, 0.977409)
bones/61/rotation = Quaternion(-9.0151e-09, -0.211358, -4.57517e-08, 0.977409)
bones/62/rotation = Quaternion(0.0959722, 0.00258533, 0.0349427, 0.994767)
bones/63/rotation = Quaternion(9.19579e-08, 0.716565, 1.72445e-08, 0.697521)
bones/64/rotation = Quaternion(-1.82569e-08, 0.11275, -7.3377e-08, 0.993623)
bones/65/rotation = Quaternion(0.2279, 0.0470103, 0.0933388, 0.96806)
bones/67/rotation = Quaternion(-0.231805, -0.0597889, 0.101796, 0.965572)
bones/68/rotation = Quaternion(-0.184067, -0.00601955, 0.0621849, 0.980926)
bones/71/rotation = Quaternion(-0.223232, -0.00773909, -0.00253508, 0.974731)
bones/72/rotation = Quaternion(-0.17091, 0.00428808, 0.0505343, 0.98398)
bones/75/rotation = Quaternion(-0.183423, 0.0216862, -0.132036, 0.973885)
bones/76/rotation = Quaternion(-0.188879, 0.00279248, 0.0147707, 0.981885)
bones/79/rotation = Quaternion(-0.201773, 0.120133, -0.214391, 0.948099)
bones/80/rotation = Quaternion(-0.138858, 0.013177, -0.0135017, 0.990133)
bones/82/rotation = Quaternion(-0.064729, -0.188997, 0.313116, 0.928466)
bones/83/rotation = Quaternion(-0.159937, 0.0106175, -0.135944, 0.977664)
bones/85/position = Vector3(0.0114276, 1.69485, -0.0339251)
bones/85/rotation = Quaternion(0.106618, -0.0294421, 0.0297674, 0.993418)
bones/86/rotation = Quaternion(-0.0905749, -0.00108717, 0.00666032, 0.995867)
bones/87/position = Vector3(0.165834, 0.561367, 0.075944)
bones/87/rotation = Quaternion(0.741156, 0.00429264, 0.670528, -0.0325863)
bones/88/rotation = Quaternion(-1.69881e-08, -0.137966, -1.35327e-08, 0.990437)
bones/90/rotation = Quaternion(-1.82936e-08, -0.0681278, 2.56403e-08, 0.997677)
bones/91/position = Vector3(-0.0521159, 0.556688, -0.031567)
bones/91/rotation = Quaternion(0.863254, 0.0486849, -0.502361, -0.00737409)
bones/92/rotation = Quaternion(-5.70572e-09, -0.00841711, 3.20902e-08, 0.999965)
bones/94/rotation = Quaternion(2.57411e-06, -0.00356654, -5.3508e-06, 0.999994)
bones/95/position = Vector3(0.00385204, 1.8066, -0.020318)
bones/95/rotation = Quaternion(-0.0640413, -0.0254278, -0.0163153, 0.99749)
bones/110/rotation = Quaternion(0.707155, -9.13064e-06, 0.707059, 2.02226e-07)
bones/111/rotation = Quaternion(0.707164, 1.10553e-06, 0.70705, 4.47247e-07)

[node name="RightHandAttachment" type="BoneAttachment3D" parent="hooded_character/HoodedCharacterGameRig/Skeleton3D" index="1"]
transform = Transform3D(-0.0158489, -0.431367, -0.902037, -0.21424, -0.879733, 0.424466, -0.976652, 0.199979, -0.0784732, -0.210779, 0.922836, -0.075953)
bone_name = "hand.r"
bone_idx = 65

[node name="WeaponSlot" type="Node3D" parent="hooded_character/HoodedCharacterGameRig/Skeleton3D/RightHandAttachment"]
transform = Transform3D(-0.0457613, -0.99403, 0.0990571, 0.894667, 0.00332996, 0.446723, -0.444386, 0.109067, 0.889172, 0.0112015, 0.08489, -0.0213568)

[node name="VanishTimer" type="Timer" parent="hooded_character/HoodedCharacterGameRig/Skeleton3D/RightHandAttachment"]
one_shot = true

[node name="AnimationTree" parent="hooded_character" index="2"]
parameters/StateMachine/playback = SubResource("AnimationNodeStateMachinePlayback_1iq4j")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 8.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8)
cull_mask = 524287
fov = 60.0

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="hooded_character/HoodedCharacterGameRig/Skeleton3D/RightHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="hooded_character"]
