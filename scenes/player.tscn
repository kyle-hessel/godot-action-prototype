[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.277379
height = 2.18201

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.35
shader_parameter/contrast_multiplier = 0.5
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 4.72104

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00858595, 0.0392108, 0.827436)
bones/1/rotation = Quaternion(0.79064, 0.0273033, -0.0130934, 0.611532)
bones/2/rotation = Quaternion(-0.104951, -0.00895781, 0.0309078, 0.993957)
bones/3/rotation = Quaternion(-0.0528155, 3.30082e-05, 0.00135517, 0.998603)
bones/4/rotation = Quaternion(0.012337, 8.94237e-05, -0.00157204, 0.999923)
bones/6/rotation = Quaternion(-0.184658, -0.0509649, 0.0129834, 0.981395)
bones/63/rotation = Quaternion(-0.597202, 0.198423, -0.139053, 0.764619)
bones/64/rotation = Quaternion(-0.0442326, 0.143701, -0.194183, 0.969374)
bones/65/rotation = Quaternion(0.167077, 0.0193103, 0.0970272, 0.980968)
bones/66/position = Vector3(-0.0268814, 0.23423, 0.00878995)
bones/66/rotation = Quaternion(0.0574243, -0.111098, 0.12245, 0.984564)
bones/70/position = Vector3(-0.0126791, 0.240215, 0.0171389)
bones/70/rotation = Quaternion(0.0587047, -0.0461514, 0.110634, 0.991052)
bones/74/position = Vector3(0.00292166, 0.244447, 0.0191749)
bones/74/rotation = Quaternion(0.0969776, -0.0220507, 0.0910344, 0.990869)
bones/78/position = Vector3(0.0162017, 0.245356, 0.0174629)
bones/78/rotation = Quaternion(0.106427, 0.0942662, 0.0328356, 0.989297)
bones/82/position = Vector3(0.0215975, 0.226163, -0.00130961)
bones/82/rotation = Quaternion(0.216106, 0.810351, -0.211004, 0.502102)
bones/86/rotation = Quaternion(-0.599741, -0.226235, 0.120254, 0.758068)
bones/87/rotation = Quaternion(-0.0561096, -0.0909119, 0.234229, 0.966294)
bones/88/rotation = Quaternion(0.084428, 0.0751061, -0.175149, 0.978036)
bones/89/position = Vector3(0.0310872, 0.231116, -0.00171384)
bones/89/rotation = Quaternion(-0.0189848, 0.2096, -0.197177, 0.957512)
bones/93/position = Vector3(0.0199963, 0.239964, 0.00850106)
bones/93/rotation = Quaternion(-0.0209041, 0.146846, -0.181502, 0.97214)
bones/97/position = Vector3(0.0057341, 0.24658, 0.0131437)
bones/97/rotation = Quaternion(0.0176785, 0.121957, -0.164769, 0.978604)
bones/101/position = Vector3(-0.00741182, 0.24908, 0.0142105)
bones/101/rotation = Quaternion(0.0264497, 0.0102091, -0.100048, 0.994579)
bones/105/position = Vector3(-0.0194211, 0.228256, -4.6886e-05)
bones/105/rotation = Quaternion(0.151775, -0.743245, 0.209296, 0.617047)
bones/108/rotation = Quaternion(-0.00825587, 0.176606, 0.98282, -0.0529894)
bones/109/rotation = Quaternion(-0.124359, 0.00181828, -0.0184371, 0.992064)
bones/110/rotation = Quaternion(0.581552, -0.165877, 0.0917353, 0.791118)
bones/111/rotation = Quaternion(0.198118, 0.000992461, -0.0696241, 0.977702)
bones/112/rotation = Quaternion(0.00199656, 0.200529, 0.979635, 0.00997169)
bones/113/rotation = Quaternion(-0.16517, -0.0025772, 0.0183464, 0.986091)
bones/114/rotation = Quaternion(0.533298, 0.16899, -0.0624424, 0.826521)
bones/115/rotation = Quaternion(0.272554, 0.00435278, 0.069495, 0.959618)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.468852, 0.380966, 0.796895, -0.0094428, -0.904314, 0.426764, 0.883226, 0.192564, 0.427587, 0.261411, 0.925843, -0.0174255)

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0353781, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.00170743, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
