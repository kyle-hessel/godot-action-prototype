[gd_scene load_steps=11 format=3 uid="uid://cc7svareltvw7"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]
[ext_resource type="Texture2D" uid="uid://c0k8c5wncmt3g" path="res://UI/Target_Reticle.png" id="4_26cl0"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 13.1285

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_layer = 4
collision_mask = 5
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(0.0088908, 0.0391284, 0.827435)
bones/1/rotation = Quaternion(0.790629, -0.0278359, 0.0130929, 0.611522)
bones/2/rotation = Quaternion(-0.104955, 0.00925858, -0.0313316, 0.99394)
bones/3/rotation = Quaternion(-0.0528155, -3.32753e-05, -0.00136612, 0.998603)
bones/4/rotation = Quaternion(0.012337, -6.5876e-05, 0.00104526, 0.999923)
bones/6/rotation = Quaternion(-0.184728, -0.0433566, 0.0110907, 0.98177)
bones/63/rotation = Quaternion(-0.592492, 0.218345, -0.117696, 0.766438)
bones/64/rotation = Quaternion(-0.0570682, 0.0851453, -0.221719, 0.969708)
bones/65/rotation = Quaternion(0.043937, -0.0675518, 0.119962, 0.989503)
bones/66/position = Vector3(-0.0285324, 0.233815, -0.0030886)
bones/66/rotation = Quaternion(-0.0661735, -0.194968, 0.148814, 0.967193)
bones/70/position = Vector3(-0.0163383, 0.242269, 0.00638758)
bones/70/rotation = Quaternion(-0.0650675, -0.132762, 0.129965, 0.980434)
bones/74/position = Vector3(-0.00154396, 0.247685, 0.0105419)
bones/74/rotation = Quaternion(-0.0254671, -0.11078, 0.111731, 0.987216)
bones/78/position = Vector3(0.011792, 0.248949, 0.0113636)
bones/78/rotation = Quaternion(-0.0111722, -0.00216644, 0.0419665, 0.999054)
bones/82/position = Vector3(0.0214159, 0.226327, -0.00158663)
bones/82/rotation = Quaternion(0.170291, 0.728261, -0.273752, 0.604729)
bones/86/rotation = Quaternion(-0.586976, -0.233792, 0.103785, 0.768133)
bones/87/rotation = Quaternion(-0.0396766, -0.154874, 0.254401, 0.953792)
bones/88/rotation = Quaternion(0.124067, -0.0151325, -0.186957, 0.974385)
bones/89/position = Vector3(0.0312998, 0.230296, 0.00556173)
bones/89/rotation = Quaternion(0.025838, 0.123475, -0.215112, 0.968408)
bones/93/position = Vector3(0.0184948, 0.238957, 0.0140778)
bones/93/rotation = Quaternion(0.0213534, 0.0593494, -0.201432, 0.97747)
bones/97/position = Vector3(0.00446804, 0.245622, 0.016225)
bones/97/rotation = Quaternion(0.0577515, 0.0327226, -0.181862, 0.981081)
bones/101/position = Vector3(-0.00848483, 0.248635, 0.0149384)
bones/101/rotation = Quaternion(0.058212, -0.0816233, -0.119503, 0.987759)
bones/105/position = Vector3(-0.0181385, 0.2292, -0.00201332)
bones/105/rotation = Quaternion(0.128245, -0.805679, 0.191824, 0.545562)
bones/108/rotation = Quaternion(-0.00162679, 0.200536, 0.979636, -0.00975661)
bones/109/rotation = Quaternion(-0.165189, 0.00257749, -0.0183464, 0.986088)
bones/110/rotation = Quaternion(0.533022, -0.169074, 0.0623466, 0.826689)
bones/111/rotation = Quaternion(0.272794, -0.00437018, -0.0694939, 0.959549)
bones/112/rotation = Quaternion(0.00834909, 0.175149, 0.983065, 0.0532472)
bones/113/rotation = Quaternion(-0.124795, -0.00182642, 0.0184363, 0.99201)
bones/114/rotation = Quaternion(0.583027, 0.164271, -0.0904094, 0.79052)
bones/115/rotation = Quaternion(0.197676, -0.00102394, 0.0696236, 0.977791)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.219027, 0.133991, 0.966475, -0.0189443, -0.990923, 0.133088, 0.975535, 0.0108408, 0.219578, 0.261566, 0.926463, -0.0337462)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")
parameters/IdleWalkRun_Jump/IdleWalkRunWeaponBlendspace/blend_position = Vector2(0, 0)

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.5

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TargetingIcon" type="TextureRect" parent="UI"]
visible = false
self_modulate = Color(1, 1, 1, 0.686275)
layout_mode = 1
offset_right = 47.0
offset_bottom = 47.0
texture = ExtResource("4_26cl0")
expand_mode = 1

[node name="SpringArmVisualizer" type="CSGSphere3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.976886, 2.98023e-08)
visible = false
radius = 0.05

[node name="SpringArmTarget" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.369434, 2.98023e-08)

[node name="SpringArmJumpTarget" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, -0.339434, 2.98023e-08)

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]
[connection signal="body_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_body_shape_entered"]
[connection signal="body_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_body_shape_exited"]

[editable path="starblade_wielder"]
