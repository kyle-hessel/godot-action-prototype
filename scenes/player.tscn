[gd_scene load_steps=11 format=3 uid="uid://cc7svareltvw7"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]
[ext_resource type="Texture2D" uid="uid://c0k8c5wncmt3g" path="res://UI/Target_Reticle.png" id="4_26cl0"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 6.16279

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00889142, 0.0391293, 0.827436)
bones/1/rotation = Quaternion(0.790624, 0.027966, -0.0129556, 0.611526)
bones/2/rotation = Quaternion(-0.104954, -0.00924953, 0.0313187, 0.993941)
bones/3/rotation = Quaternion(-0.0528155, 3.69051e-05, 0.00151516, 0.998603)
bones/4/rotation = Quaternion(0.0123369, 8.12131e-05, -0.00135412, 0.999923)
bones/6/rotation = Quaternion(-0.184751, 0.0406504, -0.0103987, 0.981889)
bones/63/rotation = Quaternion(-0.587098, 0.233698, -0.10397, 0.768044)
bones/64/rotation = Quaternion(-0.0397051, 0.154899, -0.253649, 0.953987)
bones/65/rotation = Quaternion(0.124271, 0.0151069, 0.186261, 0.974492)
bones/66/position = Vector3(-0.0312912, 0.2303, 0.0055939)
bones/66/rotation = Quaternion(0.0259464, -0.123437, 0.214405, 0.968566)
bones/70/position = Vector3(-0.0184684, 0.238959, 0.0141064)
bones/70/rotation = Quaternion(0.0215073, -0.0593051, 0.200731, 0.977613)
bones/74/position = Vector3(-0.00440784, 0.245619, 0.0162491)
bones/74/rotation = Quaternion(0.057923, -0.0327, 0.181159, 0.981202)
bones/78/position = Vector3(0.0085577, 0.248613, 0.0149603)
bones/78/rotation = Quaternion(0.058459, 0.0816574, 0.118816, 0.987825)
bones/82/position = Vector3(0.0182273, 0.229134, -0.00199122)
bones/82/rotation = Quaternion(0.128892, 0.805677, -0.192076, 0.545325)
bones/86/rotation = Quaternion(-0.592709, -0.218635, 0.117735, 0.766181)
bones/87/rotation = Quaternion(-0.0570441, -0.0853053, 0.222073, 0.969615)
bones/88/rotation = Quaternion(0.0447206, 0.0677318, -0.121103, 0.989316)
bones/89/position = Vector3(0.028552, 0.233797, -0.00307885)
bones/89/rotation = Quaternion(-0.0652578, 0.195298, -0.149819, 0.967034)
bones/93/position = Vector3(0.0163593, 0.242258, 0.00639667)
bones/93/rotation = Quaternion(-0.0642139, 0.133078, -0.131032, 0.980305)
bones/97/position = Vector3(0.00156828, 0.247681, 0.0105538)
bones/97/rotation = Quaternion(-0.0246322, 0.111037, -0.112828, 0.987084)
bones/101/position = Vector3(-0.0117713, 0.248953, 0.0113694)
bones/101/rotation = Quaternion(-0.0104484, 0.00235714, -0.0431589, 0.999011)
bones/105/position = Vector3(-0.0213865, 0.226359, -0.00156467)
bones/105/rotation = Quaternion(0.169899, -0.728575, 0.272473, 0.605039)
bones/108/rotation = Quaternion(-0.00832779, 0.175397, 0.983024, -0.0531946)
bones/109/rotation = Quaternion(-0.125002, 0.00183021, -0.018436, 0.991984)
bones/110/rotation = Quaternion(0.582844, -0.164582, 0.0906675, 0.79056)
bones/111/rotation = Quaternion(0.197966, 0.00100328, -0.0696239, 0.977733)
bones/112/rotation = Quaternion(0.00163813, 0.200535, 0.979637, 0.0097631)
bones/113/rotation = Quaternion(-0.165419, -0.00258182, 0.0183458, 0.986049)
bones/114/rotation = Quaternion(0.53303, 0.169071, -0.0623497, 0.826684)
bones/115/rotation = Quaternion(0.272787, 0.00436964, 0.0694939, 0.959551)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.457273, 0.372955, 0.807344, -0.162645, -0.927577, 0.336376, 0.874327, 0.022505, 0.484815, 0.259333, 0.932579, -0.04311)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TargetingIcon" type="TextureRect" parent="UI"]
visible = false
self_modulate = Color(1, 1, 1, 0.686275)
layout_mode = 1
offset_right = 47.0
offset_bottom = 47.0
texture = ExtResource("4_26cl0")
expand_mode = 1

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]
[connection signal="body_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_body_shape_entered"]
[connection signal="body_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_body_shape_exited"]

[editable path="starblade_wielder"]
