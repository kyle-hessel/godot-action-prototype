[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.277379
height = 2.18201

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.35
shader_parameter/contrast_multiplier = 0.5
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 2.933

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00946544, 0.0388486, 0.827401)
bones/1/rotation = Quaternion(0.789699, 0.0468301, 0.00336451, 0.611695)
bones/2/rotation = Quaternion(-0.104224, -0.03466, 0.0335495, 0.993383)
bones/3/rotation = Quaternion(-0.0528155, 4.86682e-05, 0.0019981, 0.998602)
bones/4/rotation = Quaternion(0.0123376, -9.37571e-05, 0.00220152, 0.999922)
bones/6/rotation = Quaternion(-0.185697, 0.00139389, -0.00817577, 0.982572)
bones/63/rotation = Quaternion(-0.597148, 0.198318, -0.137013, 0.765056)
bones/64/rotation = Quaternion(-0.0561904, 0.0827547, -0.188712, 0.976925)
bones/65/rotation = Quaternion(0.0786352, -0.0565713, 0.0783749, 0.992207)
bones/66/position = Vector3(-0.0257199, 0.236545, -0.000356738)
bones/66/rotation = Quaternion(-0.036538, -0.180947, 0.105366, 0.97715)
bones/70/position = Vector3(-0.0125794, 0.243151, 0.00915997)
bones/70/rotation = Quaternion(-0.0328762, -0.11798, 0.0882412, 0.988541)
bones/74/position = Vector3(0.00276341, 0.246918, 0.0130418)
bones/74/rotation = Quaternion(0.00744475, -0.096796, 0.0698837, 0.99282)
bones/78/position = Vector3(0.0161269, 0.246925, 0.0134209)
bones/78/rotation = Quaternion(0.0251496, 0.0137916, 0.00340321, 0.999583)
bones/82/position = Vector3(0.0229081, 0.224721, -0.000957034)
bones/82/rotation = Quaternion(0.215105, 0.740643, -0.273602, 0.574735)
bones/86/rotation = Quaternion(-0.590379, -0.226875, 0.111676, 0.766492)
bones/87/rotation = Quaternion(-0.0558078, -0.0926723, 0.239163, 0.964934)
bones/88/rotation = Quaternion(0.108669, 0.0498318, -0.132361, 0.983966)
bones/89/position = Vector3(0.0290146, 0.233446, 0.00159547)
bones/89/rotation = Quaternion(0.000456496, 0.181255, -0.155612, 0.971047)
bones/93/position = Vector3(0.0165303, 0.240947, 0.0113985)
bones/93/rotation = Quaternion(0.000787349, 0.117695, -0.140835, 0.983012)
bones/97/position = Vector3(0.00167598, 0.246202, 0.0152888)
bones/97/rotation = Quaternion(0.0398689, 0.0937648, -0.123149, 0.987144)
bones/101/position = Vector3(-0.0116939, 0.247652, 0.0155752)
bones/101/rotation = Quaternion(0.0511912, -0.0194202, -0.0600753, 0.996691)
bones/105/position = Vector3(-0.0207036, 0.227099, -8.73734e-05)
bones/105/rotation = Quaternion(0.187137, -0.761167, 0.22166, 0.580062)
bones/108/rotation = Quaternion(-0.0370532, 0.124391, 0.989375, -0.0655048)
bones/109/rotation = Quaternion(-0.0867579, 0.00111982, -0.0184927, 0.996057)
bones/110/rotation = Quaternion(0.597951, -0.109787, 0.049246, 0.79245)
bones/111/rotation = Quaternion(0.199509, 0.000893375, -0.0696254, 0.977419)
bones/112/rotation = Quaternion(-0.0238588, 0.176885, 0.983902, 0.00885185)
bones/113/rotation = Quaternion(-0.00220278, 0.000448215, 0.0185211, 0.999826)
bones/114/rotation = Quaternion(0.477816, 0.15323, -0.0973913, 0.859492)
bones/115/rotation = Quaternion(0.197358, -0.00104658, 0.0696233, 0.977856)

[node name="RightHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.255497, -0.251335, -0.933569, 0.0227051, -0.966912, 0.254098, -0.966543, 0.0437241, 0.25275, -0.256022, 0.926256, -0.037432)

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0353781, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.00170743, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/RightHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
