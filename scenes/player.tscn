[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 6.16279

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00449519, 0.0393518, 0.827272)
bones/1/rotation = Quaternion(0.790812, 0.0120167, -0.0112957, 0.611837)
bones/2/rotation = Quaternion(-0.104822, -5.10439e-05, 0.0177704, 0.994332)
bones/3/rotation = Quaternion(-0.0528155, 2.66366e-05, 0.00109358, 0.998604)
bones/4/rotation = Quaternion(0.0123371, 0.000102848, -0.00192834, 0.999922)
bones/6/rotation = Quaternion(-0.184495, -0.0764052, 0.0218248, 0.979616)
bones/63/rotation = Quaternion(-0.597151, 0.193488, -0.142897, 0.765215)
bones/64/rotation = Quaternion(-0.045025, 0.139909, -0.191722, 0.970382)
bones/65/rotation = Quaternion(0.174653, 0.0205904, 0.0847598, 0.980759)
bones/66/position = Vector3(-0.02668, 0.234501, 0.00851417)
bones/66/rotation = Quaternion(0.0635823, -0.108661, 0.109654, 0.985965)
bones/70/position = Vector3(-0.0121882, 0.240321, 0.017284)
bones/70/rotation = Quaternion(0.0656368, -0.0436256, 0.0982181, 0.992039)
bones/74/position = Vector3(0.0036082, 0.244243, 0.0194719)
bones/74/rotation = Quaternion(0.104113, -0.0198462, 0.0786389, 0.991253)
bones/78/position = Vector3(0.0167451, 0.24502, 0.017719)
bones/78/rotation = Quaternion(0.114704, 0.0967529, 0.0212533, 0.988448)
bones/82/position = Vector3(0.0217656, 0.225999, -0.00103322)
bones/82/rotation = Quaternion(0.228479, 0.811214, -0.212096, 0.494716)
bones/86/rotation = Quaternion(-0.596576, -0.214671, 0.125021, 0.763141)
bones/87/rotation = Quaternion(-0.0570458, -0.0859522, 0.22628, 0.968584)
bones/88/rotation = Quaternion(0.089561, 0.0633041, -0.140344, 0.98401)
bones/89/position = Vector3(0.0293224, 0.233118, -0.000513515)
bones/89/rotation = Quaternion(-0.0180505, 0.19465, -0.164034, 0.966891)
bones/93/position = Vector3(0.0173063, 0.241113, 0.00940337)
bones/93/rotation = Quaternion(-0.0180813, 0.131579, -0.148117, 0.980011)
bones/97/position = Vector3(0.0026071, 0.246657, 0.0136989)
bones/97/rotation = Quaternion(0.0211093, 0.107813, -0.13075, 0.98531)
bones/101/position = Vector3(-0.0106641, 0.248293, 0.0144074)
bones/101/rotation = Quaternion(0.0327212, -0.00415358, -0.0660348, 0.997272)
bones/105/position = Vector3(-0.0204476, 0.227303, -0.000140743)
bones/105/rotation = Quaternion(0.176499, -0.748449, 0.228546, 0.597025)
bones/108/rotation = Quaternion(-0.00449216, 0.187753, 0.981042, -0.0478021)
bones/109/rotation = Quaternion(-0.0861856, 0.0011092, -0.0184933, 0.996107)
bones/110/rotation = Quaternion(0.540508, -0.160023, 0.092043, 0.820836)
bones/111/rotation = Quaternion(0.198366, 0.000974772, -0.0696243, 0.977651)
bones/112/rotation = Quaternion(0.0111097, 0.196655, 0.980161, 0.0221049)
bones/113/rotation = Quaternion(-0.159185, -0.00246585, 0.0183617, 0.987075)
bones/114/rotation = Quaternion(0.54236, 0.166687, -0.0639559, 0.820958)
bones/115/rotation = Quaternion(0.257978, 0.00329898, 0.069553, 0.963638)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.468429, 0.382507, 0.796406, 0.0214489, -0.896232, 0.443067, 0.883241, 0.224628, 0.411616, 0.26263, 0.925089, -0.0123089)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
