[gd_scene load_steps=11 format=3 uid="uid://cc7svareltvw7"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]
[ext_resource type="Texture2D" uid="uid://c0k8c5wncmt3g" path="res://UI/Target_Reticle.png" id="4_26cl0"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 6.16279

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_layer = 4
collision_mask = 5
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00955579, 0.0389522, 0.827436)
bones/1/rotation = Quaternion(0.790193, 0.0383561, -0.00516715, 0.611635)
bones/2/rotation = Quaternion(-0.104587, -0.0226236, 0.0334453, 0.993696)
bones/3/rotation = Quaternion(-0.0528155, 4.53806e-05, 0.00186313, 0.998603)
bones/4/rotation = Quaternion(0.0123368, 5.21151e-05, -0.000666788, 0.999924)
bones/6/rotation = Quaternion(-0.184905, 0.0572299, -0.0183993, 0.980916)
bones/63/rotation = Quaternion(-0.572513, 0.229606, -0.0905062, 0.781868)
bones/64/rotation = Quaternion(-0.0568289, 0.0913527, -0.26905, 0.957098)
bones/65/rotation = Quaternion(0.0652082, -0.0456744, 0.138142, 0.987207)
bones/66/position = Vector3(-0.029066, 0.23336, -0.000605365)
bones/66/rotation = Quaternion(-0.041915, -0.176303, 0.16687, 0.969183)
bones/70/position = Vector3(-0.0168978, 0.241677, 0.00808999)
bones/70/rotation = Quaternion(-0.0423042, -0.113479, 0.149357, 0.981339)
bones/74/position = Vector3(-0.00205269, 0.247367, 0.011665)
bones/74/rotation = Quaternion(-0.00348323, -0.0901944, 0.13071, 0.987303)
bones/78/position = Vector3(0.0112889, 0.248959, 0.0117986)
bones/78/rotation = Quaternion(0.00714243, 0.020128, 0.0627804, 0.997799)
bones/82/position = Vector3(0.0207431, 0.226809, -0.00144496)
bones/82/rotation = Quaternion(0.159246, 0.750124, -0.252461, 0.590101)
bones/86/rotation = Quaternion(-0.592249, -0.221032, 0.115828, 0.76614)
bones/87/rotation = Quaternion(-0.0567123, -0.0872061, 0.22517, 0.96875)
bones/88/rotation = Quaternion(0.0663608, 0.0621533, -0.120935, 0.988488)
bones/89/position = Vector3(0.0282043, 0.234211, -0.00163396)
bones/89/rotation = Quaternion(-0.0436105, 0.190646, -0.147846, 0.969481)
bones/93/position = Vector3(0.0158518, 0.242134, 0.00791627)
bones/93/rotation = Quaternion(-0.0425386, 0.127941, -0.13037, 0.982255)
bones/97/position = Vector3(0.000932971, 0.247273, 0.011983)
bones/97/rotation = Quaternion(-0.0030166, 0.105408, -0.112319, 0.988061)
bones/101/position = Vector3(-0.0124213, 0.248387, 0.0126241)
bones/101/rotation = Quaternion(0.0106686, -0.00481238, -0.0448309, 0.998926)
bones/105/position = Vector3(-0.0211342, 0.226632, -0.000845938)
bones/105/rotation = Quaternion(0.179025, -0.73923, 0.257641, 0.595911)
bones/108/rotation = Quaternion(-0.024277, 0.124099, 0.989894, -0.0641819)
bones/109/rotation = Quaternion(-0.0857093, 0.00110035, -0.0184939, 0.996148)
bones/110/rotation = Quaternion(0.598815, -0.112921, 0.0525452, 0.791144)
bones/111/rotation = Quaternion(0.197636, 0.00102681, -0.0696236, 0.977799)
bones/112/rotation = Quaternion(-0.0112482, 0.20495, 0.978665, 0.00920135)
bones/113/rotation = Quaternion(-0.164614, -0.00256685, 0.0183479, 0.986184)
bones/114/rotation = Quaternion(0.52682, 0.169012, -0.0636686, 0.830567)
bones/115/rotation = Quaternion(0.272093, 0.00431943, 0.0694971, 0.959748)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.254826, 0.223347, 0.94084, -0.0310709, -0.974349, 0.222887, 0.966487, 0.0275647, 0.255229, 0.277344, 0.938055, -0.0435888)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TargetingIcon" type="TextureRect" parent="UI"]
visible = false
self_modulate = Color(1, 1, 1, 0.686275)
layout_mode = 1
offset_right = 47.0
offset_bottom = 47.0
texture = ExtResource("4_26cl0")
expand_mode = 1

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]
[connection signal="body_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_body_shape_entered"]
[connection signal="body_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_body_shape_exited"]

[editable path="starblade_wielder"]
