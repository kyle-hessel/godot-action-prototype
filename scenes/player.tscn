[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.233368
height = 1.9079

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.3
shader_parameter/contrast_multiplier = 0.4
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 6.16279

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00211735, 0.039216, 0.827229)
bones/1/rotation = Quaternion(0.790634, 0.0157772, 0.00755394, 0.612039)
bones/2/rotation = Quaternion(-0.104558, -0.0163484, 0.00646926, 0.994363)
bones/3/rotation = Quaternion(-0.0528156, 6.85315e-06, 0.000281369, 0.998604)
bones/4/rotation = Quaternion(0.0123372, -9.87038e-05, 0.00199082, 0.999922)
bones/5/rotation = Quaternion(0.19908, -1.36702e-10, -4.81676e-08, 0.979983)
bones/6/rotation = Quaternion(-0.185197, 0.0409977, -0.0154579, 0.981724)
bones/60/rotation = Quaternion(8.56631e-08, 0.707107, 0.707107, -5.33851e-08)
bones/61/rotation = Quaternion(8.5663e-08, 0.707107, 0.707107, -5.33851e-08)
bones/62/rotation = Quaternion(-0.558006, -0.396578, -0.434198, 0.585515)
bones/63/rotation = Quaternion(-0.596754, 0.206364, -0.130821, 0.764319)
bones/64/rotation = Quaternion(-0.0567675, 0.0841655, -0.208496, 0.97274)
bones/65/rotation = Quaternion(0.084493, -0.0594071, 0.109265, 0.988632)
bones/66/position = Vector3(-0.0276108, 0.234795, -0.000408549)
bones/66/rotation = Quaternion(-0.0269661, -0.187338, 0.134624, 0.972653)
bones/67/rotation = Quaternion(-0.15356, 0.0825944, -0.0114511, 0.984615)
bones/68/rotation = Quaternion(-0.218602, -0.00931788, -0.0427931, 0.974831)
bones/69/rotation = Quaternion(-0.172323, -0.00485557, -0.000885318, 0.985028)
bones/70/position = Vector3(-0.0150458, 0.242126, 0.00931766)
bones/70/rotation = Quaternion(-0.0251205, -0.124279, 0.118188, 0.984863)
bones/71/rotation = Quaternion(-0.144877, 0.0151114, -0.00101832, 0.989334)
bones/72/rotation = Quaternion(-0.211228, -0.012712, 0.00491038, 0.977342)
bones/73/rotation = Quaternion(-0.187758, 0.0029191, -0.00170133, 0.98221)
bones/74/position = Vector3(-4.47966e-06, 0.246818, 0.0134028)
bones/74/rotation = Quaternion(0.0146304, -0.101781, 0.100246, 0.989635)
bones/75/rotation = Quaternion(-0.169953, 0.00963474, 0.00962228, 0.985358)
bones/76/rotation = Quaternion(-0.193672, -0.013238, 0.00970459, 0.980929)
bones/77/rotation = Quaternion(-0.180202, -0.0132706, 0.00961211, 0.983493)
bones/78/position = Vector3(0.0133746, 0.247657, 0.0139362)
bones/78/rotation = Quaternion(0.0292581, 0.00956587, 0.0346148, 0.998927)
bones/79/rotation = Quaternion(-0.143893, -0.0637013, 0.0530934, 0.986113)
bones/80/rotation = Quaternion(-0.217059, 0.00304708, 0.0172261, 0.976002)
bones/81/rotation = Quaternion(-0.198062, -0.0134758, -0.0156026, 0.979973)
bones/82/position = Vector3(0.0216692, 0.226044, -0.000539963)
bones/82/rotation = Quaternion(0.195998, 0.74533, -0.25117, 0.585647)
bones/83/rotation = Quaternion(-0.253237, 0.0381079, -0.0260387, 0.966303)
bones/84/rotation = Quaternion(-0.0693489, 0.0215806, -0.017954, 0.997197)
bones/85/rotation = Quaternion(-0.558143, 0.396382, 0.434389, 0.585375)
bones/86/rotation = Quaternion(-0.593469, -0.20749, 0.129002, 0.766877)
bones/87/rotation = Quaternion(-0.0487579, -0.121309, 0.217081, 0.967359)
bones/88/rotation = Quaternion(0.150065, 0.00282545, -0.106905, 0.982875)
bones/89/position = Vector3(0.0274894, 0.23415, 0.00643203)
bones/89/rotation = Quaternion(0.0405712, 0.133567, -0.131505, 0.981438)
bones/90/rotation = Quaternion(-0.15356, -0.0825943, 0.0114512, 0.984615)
bones/91/rotation = Quaternion(-0.218602, 0.00931789, 0.0427932, 0.974831)
bones/92/rotation = Quaternion(-0.172323, 0.00485557, 0.000885334, 0.985028)
bones/93/position = Vector3(0.0138579, 0.240528, 0.0153967)
bones/93/rotation = Quaternion(0.0416535, 0.0689762, -0.118813, 0.989642)
bones/94/rotation = Quaternion(-0.144877, -0.0151114, 0.00101833, 0.989334)
bones/95/rotation = Quaternion(-0.211228, 0.012712, -0.00491034, 0.977342)
bones/96/rotation = Quaternion(-0.187758, -0.00291909, 0.00170134, 0.98221)
bones/97/position = Vector3(-0.00154522, 0.244999, 0.0179835)
bones/97/rotation = Quaternion(0.0802554, 0.0449343, -0.0998262, 0.990745)
bones/98/rotation = Quaternion(-0.169953, -0.00963477, -0.00962229, 0.985358)
bones/99/rotation = Quaternion(-0.193672, 0.013238, -0.00970452, 0.980929)
bones/100/rotation = Quaternion(-0.180202, 0.0132706, -0.00961213, 0.983493)
bones/101/position = Vector3(-0.0148524, 0.246017, 0.0169852)
bones/101/rotation = Quaternion(0.0904676, -0.0705752, -0.0401739, 0.992583)
bones/102/rotation = Quaternion(-0.143893, 0.0637013, -0.0530934, 0.986113)
bones/103/rotation = Quaternion(-0.217059, -0.00304706, -0.0172261, 0.976002)
bones/104/rotation = Quaternion(-0.198062, 0.0134758, 0.0156026, 0.979973)
bones/105/position = Vector3(-0.0214439, 0.22634, -0.000830659)
bones/105/rotation = Quaternion(0.208961, -0.795646, 0.214304, 0.526647)
bones/107/rotation = Quaternion(-0.069349, -0.0215806, 0.017954, 0.997197)
bones/108/rotation = Quaternion(-0.0247411, 0.173488, 0.983621, -0.042185)
bones/109/rotation = Quaternion(-0.139861, 0.00210642, -0.0184064, 0.989998)
bones/110/rotation = Quaternion(0.571498, -0.145158, 0.0594837, 0.80547)
bones/111/rotation = Quaternion(0.230475, -0.00132007, -0.0696187, 0.970584)
bones/112/rotation = Quaternion(-0.0089767, 0.164255, 0.985931, 0.0296585)
bones/113/rotation = Quaternion(-0.00220099, 0.000448247, 0.0185211, 0.999826)
bones/114/rotation = Quaternion(0.489515, 0.153802, -0.0979997, 0.852711)
bones/115/rotation = Quaternion(0.197422, -0.00104202, 0.0696234, 0.977843)

[node name="LeftHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.226818, 0.216585, 0.949549, 0.0145129, -0.9741, 0.225651, 0.973829, 0.0649626, 0.2178, 0.261064, 0.92751, -0.0216963)

[node name="Wielder1_Sword2" parent="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/WeaponSlotLeftHand" index="0"]
visible = true

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0946493, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.00170732, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/LeftHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="animation_finished" from="starblade_wielder/AnimationTree" to="." method="_on_animation_tree_animation_finished"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
