[gd_scene load_steps=10 format=3 uid="uid://bueuj0ghwdj2c"]

[ext_resource type="Script" path="res://scripts/Player.gd" id="1_nm7dn"]
[ext_resource type="Shader" path="res://shaders/celshader_pp1.gdshader" id="3_owgoy"]
[ext_resource type="PackedScene" uid="uid://chyx0ysg0ih0p" path="res://3D_models/characters/wielder1/starblade_wielder.tscn" id="3_qh5ue"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_jffoc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j7t00"]
radius = 0.277379
height = 2.18201

[sub_resource type="SeparationRayShape3D" id="SeparationRayShape3D_xx8bg"]
slide_on_slope = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yjbfb"]
render_priority = 0
shader = ExtResource("3_owgoy")
shader_parameter/brightness = 1.35
shader_parameter/contrast_multiplier = 0.5
shader_parameter/l_thresh_multiplier = 0.5
shader_parameter/lightshadow_transition = 0.0
shader_parameter/max_distance = 4000.0
shader_parameter/shadow_tint = Color(0.537255, 0.6, 0.709804, 1)
shader_parameter/light_tint = Color(0.831373, 0.831373, 0.831373, 1)

[sub_resource type="QuadMesh" id="QuadMesh_t0qij"]
material = SubResource("ShaderMaterial_yjbfb")
size = Vector2(2, 2)

[sub_resource type="SphereShape3D" id="SphereShape3D_x54ob"]
radius = 2.933

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.058, 0)
collision_mask = 3
script = ExtResource("1_nm7dn")

[node name="starblade_wielder" parent="." instance=ExtResource("3_qh5ue")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, -1.05, 0)

[node name="Skeleton3D" parent="starblade_wielder/Armature" index="0"]
bones/1/position = Vector3(-0.00977373, 0.0388941, 0.827436)
bones/1/rotation = Quaternion(0.789899, 0.0439993, -0.000798207, 0.611656)
bones/2/rotation = Quaternion(-0.104384, -0.0296688, 0.0344986, 0.993496)
bones/3/rotation = Quaternion(-0.0528155, 4.8161e-05, 0.00197728, 0.998602)
bones/4/rotation = Quaternion(0.0123371, 1.42353e-05, 9.6634e-05, 0.999924)
bones/6/rotation = Quaternion(-0.185529, 0.0176434, -0.0111777, 0.982417)
bones/63/rotation = Quaternion(-0.583436, 0.215803, -0.111631, 0.774964)
bones/64/rotation = Quaternion(-0.0583099, 0.0822182, -0.236269, 0.966446)
bones/65/rotation = Quaternion(0.073543, -0.0537873, 0.107324, 0.99004)
bones/66/position = Vector3(-0.0273418, 0.235049, -0.000531451)
bones/66/rotation = Quaternion(-0.0378698, -0.181291, 0.134712, 0.973423)
bones/70/position = Vector3(-0.014655, 0.242473, 0.00865493)
bones/70/rotation = Quaternion(-0.0360399, -0.118449, 0.117471, 0.985328)
bones/74/position = Vector3(0.000471622, 0.247155, 0.0124181)
bones/74/rotation = Quaternion(0.00361877, -0.0962254, 0.0991157, 0.990406)
bones/78/position = Vector3(0.0138728, 0.24789, 0.012709)
bones/78/rotation = Quaternion(0.0180073, 0.0145332, 0.0320758, 0.999218)
bones/82/position = Vector3(0.0219211, 0.225751, -0.0012025)
bones/82/rotation = Quaternion(0.189829, 0.744654, -0.261902, 0.583835)
bones/86/rotation = Quaternion(-0.592358, -0.224762, 0.113824, 0.76527)
bones/87/rotation = Quaternion(-0.0563007, -0.0896733, 0.230533, 0.967287)
bones/88/rotation = Quaternion(0.0913063, 0.0572584, -0.126636, 0.986077)
bones/89/position = Vector3(0.0286302, 0.233876, 3.4816e-05)
bones/89/rotation = Quaternion(-0.0179212, 0.187351, -0.151128, 0.970432)
bones/93/position = Vector3(0.0162615, 0.241536, 0.0097761)
bones/93/rotation = Quaternion(-0.0171293, 0.124145, -0.135245, 0.982855)
bones/97/position = Vector3(0.00136068, 0.246706, 0.0138777)
bones/97/rotation = Quaternion(0.0222168, 0.100837, -0.117495, 0.987691)
bones/101/position = Vector3(-0.01199, 0.24799, 0.0143771)
bones/101/rotation = Quaternion(0.0348023, -0.0111431, -0.0526457, 0.997944)
bones/105/position = Vector3(-0.0209652, 0.226814, -0.00053572)
bones/105/rotation = Quaternion(0.185534, -0.750891, 0.236568, 0.588027)
bones/108/rotation = Quaternion(-0.0314583, 0.117771, 0.990323, -0.066337)
bones/109/rotation = Quaternion(-0.0782903, 0.000962633, -0.0185016, 0.996759)
bones/110/rotation = Quaternion(0.598589, -0.107889, 0.0491655, 0.792234)
bones/111/rotation = Quaternion(0.197527, 0.00103452, -0.0696235, 0.977821)
bones/112/rotation = Quaternion(-0.0178637, 0.17818, 0.983794, 0.00908038)
bones/113/rotation = Quaternion(-0.00220063, 0.000448255, 0.0185212, 0.999826)
bones/114/rotation = Quaternion(0.445415, 0.156693, -0.0916567, 0.876728)
bones/115/rotation = Quaternion(0.232399, 0.00145811, 0.0696159, 0.970125)

[node name="RightHandAttachment" parent="starblade_wielder/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.239238, -0.218426, -0.946074, 0.0227936, -0.975363, 0.219424, -0.970693, 0.0309302, 0.238323, -0.257055, 0.926212, -0.0376373)

[node name="AnimationTree" parent="starblade_wielder" index="2"]
parameters/IdleWalkRun_Jump/playback = SubResource("AnimationNodeStateMachinePlayback_jffoc")

[node name="PlayerCollisionCapsule" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0353781, 0)
shape = SubResource("CapsuleShape3D_j7t00")

[node name="SpringArm3D" type="SpringArm3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.966475, 0.256762, 0, -0.256762, 0.966475, 0, 0.372398, 0)
shape = SubResource("SeparationRayShape3D_xx8bg")
spring_length = 4.0

[node name="PlayerCam" type="Camera3D" parent="SpringArm3D"]
transform = Transform3D(1, 0, 0, 0, 1, -1.49012e-08, 0, 1.49012e-08, 1, 0, 0.00170743, 5.00357)
cull_mask = 524287
fov = 60.0

[node name="PostProcessSpatial" type="Node3D" parent="SpringArm3D/PlayerCam"]
visible = false

[node name="Shader" type="MeshInstance3D" parent="SpringArm3D/PlayerCam/PostProcessSpatial"]
transform = Transform3D(1, 0, 0, 0, 0.999914, -0.0128977, 0, 0.0128977, 0.999914, 0, 0.0188149, -0.510084)
cast_shadow = 0
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_t0qij")
skeleton = NodePath("../..")

[node name="OverlapArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="OverlapShape" type="CollisionShape3D" parent="OverlapArea"]
shape = SubResource("SphereShape3D_x54ob")

[connection signal="timeout" from="starblade_wielder/Armature/Skeleton3D/RightHandAttachment/VanishTimer" to="." method="_on_vanish_timer_timeout"]
[connection signal="area_shape_entered" from="OverlapArea" to="." method="_on_overlap_area_area_shape_entered"]
[connection signal="area_shape_exited" from="OverlapArea" to="." method="_on_overlap_area_area_shape_exited"]

[editable path="starblade_wielder"]
