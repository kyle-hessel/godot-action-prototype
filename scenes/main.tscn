[gd_scene load_steps=17 format=3 uid="uid://chcm73f8ivski"]

[ext_resource type="PackedScene" uid="uid://bq1uivhkbxtb8" path="res://scenes/player.tscn" id="1_dha7o"]
[ext_resource type="Script" path="res://scripts/Main.gd" id="1_ikywk"]
[ext_resource type="Shader" uid="uid://bdsnv803na2o" path="res://shaders/water.tres" id="2_20y4g"]
[ext_resource type="PackedScene" uid="uid://dnagf8yaneit5" path="res://scenes/damaged_sword.tscn" id="6_0eqoa"]
[ext_resource type="Material" uid="uid://b47ubq03xxlkt" path="res://shaders/realistic_water.tres" id="7_ktmp4"]
[ext_resource type="Shader" path="res://shaders/canvas_pp_test.gdshader" id="7_v7tbl"]
[ext_resource type="PackedScene" uid="uid://bhhc6vwfe1s0o" path="res://3D_models/characters/starblade_wielder_gametest.tscn" id="8_2uukl"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jyu5b"]
albedo_color = Color(0.709804, 0.678431, 0.643137, 1)

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_8bey6"]

[sub_resource type="Sky" id="Sky_qvm31"]
sky_material = SubResource("PhysicalSkyMaterial_8bey6")

[sub_resource type="Environment" id="Environment_ph5ts"]
background_mode = 2
sky = SubResource("Sky_qvm31")
tonemap_mode = 3
tonemap_exposure = 0.47
tonemap_white = 0.47
ssao_enabled = true
sdfgi_use_occlusion = true
sdfgi_energy = 0.5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yots1"]
render_priority = 0
shader = ExtResource("2_20y4g")
shader_parameter/ColorParameter = Color(4e-05, 0.437882, 0.846476, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_6urk2"]
material = SubResource("ShaderMaterial_yots1")
size = Vector2(40, 40)
subdivide_width = 20
subdivide_depth = 20

[sub_resource type="PlaneMesh" id="PlaneMesh_324bv"]
size = Vector2(40, 40)
subdivide_width = 200
subdivide_depth = 200

[sub_resource type="CylinderMesh" id="CylinderMesh_iurt0"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6gnnv"]
shader = ExtResource("7_v7tbl")
shader_parameter/hue = 3.739
shader_parameter/saturation = 1.2
shader_parameter/brightness = 1.264
shader_parameter/contrast = 0.603

[node name="Main" type="Node3D"]
script = ExtResource("1_ikywk")

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 14.1413, 0)
use_collision = true
size = Vector3(40.4731, 0.0906145, 44.8961)
material = SubResource("StandardMaterial3D_jyu5b")

[node name="Player" parent="." instance=ExtResource("1_dha7o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 15.1998, -4.77532)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ph5ts")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.505895, 0.834914, -0.216768, 0.538253, -0.109174, 0.835682, 0.674057, -0.539444, -0.504626, 0, 27.7275, 0)
light_color = Color(0.952941, 0.94902, 0.952941, 1)
shadow_enabled = true
shadow_opacity = 0.95
directional_shadow_split_1 = 0.161
directional_shadow_split_2 = 0.246
directional_shadow_split_3 = 0.385
directional_shadow_blend_splits = true
directional_shadow_fade_start = 0.521
directional_shadow_max_distance = 38.1
directional_shadow_pancake_size = 6.9

[node name="CSGBox3D2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 17.1413, 5.2542)
use_collision = true
size = Vector3(12.0728, 8, 1)

[node name="Water1" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 40.2101, 12.9747, 0.0510941)
sorting_offset = 100.0
mesh = SubResource("PlaneMesh_6urk2")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39.4025, 14.1413, 0)
use_collision = true
size = Vector3(22.5097, 5.84383, 7.78585)

[node name="DamagedSword" parent="." instance=ExtResource("6_0eqoa")]
transform = Transform3D(-0.127151, 0, -0.991883, 0.359964, -0.931824, -0.0461444, -0.924261, -0.36291, 0.118483, 47.8066, 17.8438, 0.756506)

[node name="Water2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.806, 0, 0, 0, 0.11, 0, 0, 0, 1, 0.519861, 13.6444, -42.3058)
sorting_offset = 100.0
cast_shadow = 0
mesh = SubResource("PlaneMesh_324bv")
surface_material_override/0 = ExtResource("7_ktmp4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.57126, 13.5198, -24.4885)
mesh = SubResource("CylinderMesh_iurt0")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00468922, 13.3909, -26.5866)
use_collision = true
radius = 1.1352
sides = 32

[node name="starblade_wielder_gametest" parent="." instance=ExtResource("8_2uukl")]
transform = Transform3D(-1.25, 0, -1.88745e-07, 0, 1.25, 0, 1.88745e-07, 0, -1.25, 3.76324, 14.1786, -14.1556)

[node name="PostProcessCanvas" type="CanvasLayer" parent="."]
visible = false

[node name="Shader1" type="ColorRect" parent="PostProcessCanvas"]
material = SubResource("ShaderMaterial_6gnnv")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.1193, 17, -10.0195)
light_color = Color(0.752941, 0.0156863, 0.443137, 1)
light_energy = 6.496
omni_range = 6.056
omni_attenuation = 0.615573
